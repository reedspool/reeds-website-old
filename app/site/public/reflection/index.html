<!doctype html>
<html class="no-js" lang="" dark-mode>

<head>
    <meta charset="utf-8">
    <title>Reflection experiment</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

</head>

<body>
    <script src="https://cdn.jsdelivr.net/gh/MarketingPipeline/Markdown-Tag/markdown-tag.js"></script>

<div md id="a-intro">
# Reflection experiment

An open-ended exploration of reflecting a webpage back on itself. Can a webpage
explain how it was made? How detailed can it get?

I update and edit sections in no particular order. If something
seems non-sensical or broken, it is.
</div>

<div md id="a-toc">
## Table of Contents

1. [Introduction](#a-intro)
1. [Table of contents](#a-toc)
1. [The initial idea](#a-initial-idea)
1. [Dev Setup and Process](#a-dev-setup)
1. [Page Styling](#a-styling)
1. [The Bottom of the Page](#a-bottom)
</div>

<div md id="a-initial-idea">
## The Initial Idea

1. Write a script which injests an HTML file
2. imbues each tag with a child and its tagname.
3. spits out the newly modified HTML

Elements that sat nested in a single space would
</div>
<div md id="a-dev-setup">
## Dev Setup and Process

The HTML page source contains most of the HTML, JS, and CSS of the experiment,
with links in there to a few external resources.
You can
<a href="https://firefox-source-docs.mozilla.org/devtools-user/view_source/index.html" target="_blank">
    View Source</a>
to check it out.

You can also
<a href="https://github.com/reedspool/reeds-website/tree/main/app/site/public/scroll" target="_blank">
    view it on GitHub
</a>.

While I code, I use
<a href="https://www.npmjs.com/package/live-server" target="_blank">
    <code>live-server</code></a>
to automatically reload the page when I save my file edits. The default port
without the `--port=<number>` option is `8080` but I use a different one because
that one's already in use on my machine.

```sh
$ npx live-server --port=31415
```

While I code, I also disable any automatic formatting upon file save. The weird
formatting of markdown blocks (all aligned to the left) is due to how Markdown-Tag
does not consider its parent element's alignment when parsing markdown. So if
the contents of those elements were aligned "correctly", i.e. everything within
the element being tabbed/spaced to the right of the element's tags, then
everything within those elements would be code blocks to the Markdown parser.

Code is often close to its first usage, in nearby `script`'s.
Code is also often lounging in no particular order.
</div>

<div md id="a-styling">
## Styling

You can
<button onclick="document.querySelector('html').toggleAttribute('dark-mode')">
toggle between light and dark mode
</button>.

Below is this page's stylesheet which you can edit thanks to a neat
<a href="https://css-tricks.com/show-and-edit-style-element/" target="_blank">
    <code>contenteditable</code>
trick</a>. Click on "CSS" below to open it up.
Your changes are not saved, so
<button onclick="location.reload()">refresh the page â†»</button> to reset.

Let me know if you find any interesting styles.
</div>

<details><summary>CSS</summary>
<style type="text/css" media="screen" display contenteditable="true">html {
    height: 100%;
    --light-bg: #fbf1c7;
    --light-fg: #282828;
    --dark-bg: #212337;
    --dark-fg: #c8d3f5;
    --bg: var(--light-bg);
    --fg: var(--light-fg);
    background-color: var(--bg);
    color: var(--fg);
    font-family: 'Open Sans', 'Helvetica Neue', sans-serif;
    line-height: 1.6em;
}

html[dark-mode] {
    --bg: var(--dark-bg);
    --fg: var(--dark-fg);
}

html[dark-mode] a {
    color: cornflowerblue;
}

html[dark-mode] a:visited {
    color: mediumpurple;
}

body {
    height: 100%;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin: 1rem auto;
    max-width: min(100%, 600px);
    padding: 1rem;
    padding-top: 3rem;
}

button, a, details summary {
    cursor: pointer;
}

button {
    background-color: var(--fg);
    color: var(--bg);
    border: none;
    display: inline-block;
    border-radius: 0.25em;
    padding-block-start: 2px;
    padding-block-end: 4px;
    padding-inline: 6px;
    margin-inline: 0.2em;
 }

details {
    display: block;
    position: relative;
    width: 100%;
    padding: 0em;
}

details summary {
    padding-inline: 1em;
    padding-block: 1em;
    background-color: transparent;
    color: var(--fg);
    border-bottom: 1px solid currentColor;
 }

style[display] {
    display: block;
    font-family: monospace;
    white-space: pre-wrap;
    padding-inline: 2rem;
    padding-block: 2rem;
    background-color: rgba(0, 0, 0, 0.05);
}

html[dark-mode] style[display] {
    background-color: rgba(0, 0, 0, 0.4);
}
[cpnt-fps] {
    display: flex;
    flex-direction: flex-row;
    gap: 1rem;
    align-items: center;
}
[cpnt-popout] {
    max-width: max-content;
    min-width: 10em;
    position: fixed;
    z-index: 500;
    top: 0;
    left: 0;
    background-color: var(--bg);
    border-right: 0.1em solid currentColor;
    border-bottom: 0.1em solid currentColor;
}

[cpnt-popout__target] {
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

[cpnt-popout__target]:empty {
    padding: 0rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}
[cpnt-popout__entry] {
    padding: 0rem;
    display: flex;
    flex-direction: row;
    gap: 1rem;
    align-items: center;
    justify-content: space-between;
}
</style>
</details>

<div md id="a-bottom">
<p><a href="#">Back to the top &#8593;</a></p>
</div>


</body>

</html>
