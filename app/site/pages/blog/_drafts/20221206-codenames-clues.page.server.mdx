import { Link, IconLink } from "../../../renderer/Link"
import { Script, Output, ButtonFigureWrapper } from "./Hyperscript"
import { Spoilers } from "./Spoilers"
import { Comment } from "./Comment"
import { Codepad, Script as CodenamesScript, CodenamesCodePadShell, Decimal, Binary, Reset, MathTable, ToggleWordsOrIndices, } from "./CodenamesCodePad"

export const documentProps = {
type: 'post',
title: 'Codenames Clues',
publishDate: '2022-12-06T12:00:00.000Z',
addenda : null
};

<CodenamesScript />

<div className="layout-feature px-2xl py-md bg-gray-600/20 rounded-md">

## Codenames Key Encoder

<CodenamesCodePadShell
decimalValue={19173961}
decimalLabel={"Code:"}
children={[Codepad, Decimal, Reset]}
className="mt-md" />

</div>

## Table of Contents

1. <Link href="#">Minimal gadget (top of the page)</Link>
1. <Link href="#intro">Introduction</Link>
1. <Link href="#how-to-use">How do I use this?</Link>
1. <Link href="#how-it-works">How does it work?</Link>
1. <Link href="#legality">Can I use this to win?</Link>

<div id="intro">
## Codenames Key Encoder
</div>

Use this gadget to reduce your Codenames key down to a single number. Send that number to your team. Your team then uses that number to see exactly where to guess.

In <Link href="https://boardgamegeek.com/boardgame/178900/codenames">Codenames</Link> the
board game,
one player (the spymaster) gives a single word clue, and their team must guess which
codename cards the spymaster intended.

<figure className="flex flex-col justify-center items-center mb-lg">
<div className="flex flex-row">
<div className="m-auto w-1/2">
<img src="/asset/img/blog/codenames-whole-game-setup.png" alt="Codenames Boardgame" className="w-full" />
</div>
</div>
    <figcaption className="w-1/2">Codenames setup</figcaption>
</figure>

<figure className="flex flex-col justify-center items-center mb-lg">
<div className="flex flex-row">
<div className="m-auto w-1/2">
<img src="https://4.bp.blogspot.com/-ENZvb1Pba2M/V09SwiKDgmI/AAAAAAAAV0M/Klou4VQv4NI04qkH-ifD4iPHg6crLUKrgCLcB/s640/codenames-spy-card.JPG" alt="A codename card" className="w-full rounded-xl" />
</div>
</div>
    <figcaption className="w-1/2">A codename card</figcaption>
</figure>

<figure className="flex flex-col justify-center items-center mb-lg">
<div className="flex flex-row">
<div className="m-auto w-1/2">
<img src="/asset/img/blog/codenames-keycard.png" alt="Codenames key card" className="w-full rounded-xl" />
</div>
</div>
    <figcaption className="w-1/2">A key card</figcaption>
</figure>

The randomly chosen key card (above) shows the solution (the key) to the game. Only the spymaster sees the key card. It shows which codename cards (above) from the 5x5 grid (see the setup above) their team must guess to win.

<figure className="flex flex-col justify-center items-center mb-lg">
<div className="flex flex-row">
<div className="m-auto w-1/2">
<img src="/asset/img/blog/codenames-cards-highlighted-by-key.png" alt="A codename card" className="w-full" />
</div>
</div>
    <figcaption className="w-1/2">The 5x5 grid of codename cards. The highlights show how the grid aligns to the key card.</figcaption>
</figure>

Note that the game Codenames is fun because it's fun to craft a clue and it's also fun to decode a clue.

This gadget obviates the need to generate a clue. The spymaster sends the number generated by this gadget instead of a clue. This gadget is not fun.

<div id="hot-to-use">
## How to use this
</div>

In more detail, the spymaster follows these steps, sneakily:

1. Dial-in the key pattern from the key card into the gadget
2. Transmit the generated "answer code" to your teammates

Then, the teammates reverses the process. Sneakily, they:

1. Open this gadget
2. Dial-in the given "answer code"
3. See the answer key pattern
4. Confidently choose only correct answers

To dial-in the key pattern from the key card, make the gadget's
red squares match your team's squares on the key. If you're the
blue team, match the gadget's red squares to the blue squares.

Any square which is not your team's should be gray. That includes the assassin
square, neutral squares, and the other team's squares.

See how the below red squares match the red squares in the <IconLink href="/asset/img/blog/codenames-keycard.png" target="_blank" icon="camera">key card</IconLink>.

<CodenamesCodePadShell count={25} decimalValue={555171} children={[
Codepad,
Decimal
]} />

Note how the "answer code" changes when you change the key pattern. Try typing a random number into the answer code box
to see what key pattern it matches.

<div id="how-it-works">
## How does it work?
</div>

The codenames grid is represented as a binary number, and that binary number's decimal value is the "code".

Imagine the grid of codename cards laid out in a single row. Each card is either
"theirs" or "ours." Now, replace each imaginary card with a **1** if the codename card is ours, or a **0** otherwise. Now we have a string of **1**'s and **0**'s, which form a binary number. In the **5x5** grid there are **25** cards. All of those zeros and ones form a **25** bit binary number.

A **25** bit number can be anywhere from **0** (all bits are zeros) to **2<sup>25</sup> - 1 = 33554431** (all ones). Our numbers should have either 7 or 8 **1**'s, since that's how many of each team's squares are on each key card.

Click the bits (red 1's and gray 0's) on this miniature version of the gadget to see how a binary number relates to its decimal comparison. Or type a number into the decimal field to see how it looks in binary.

Click on "Show the Math" to see a breakdown of how each bit
contributes a power of two to the total sum.

```
Put in the 2x2 with the grid and the math here
```

And here is the full 25 bit number. Be warned, the "Show the Math" button will show many lines of math!

<CodenamesCodePadShell decimalValue={31415926} children={[
Binary,
Decimal,
]} />

Every selection of cards (the set of "our cards" on a key) has a unique number, and every number maps to exactly one selection of cards.

<div id="legality">
## Can I use this to win?
</div>

In Codenames, the stress endured as you search for a single word to clue in your
teammates is fun and stressful. If you use this gadget, you will be skipping
both the good and bad parts of that emotional experience. Why would you want that?

If you try to use this gadget in a game then expect a rebuttal about the rules. Before you start an argument, consider the greater cost to your social circle. <span id="consider-cost"><button className="inline border border-gray-800 px-sm py-px rounded-xl" data-script={`on click hide me then remove .hidden from the next <span />`}>I considered the greater cost.</button><span className="hidden">Good. Now that you've considered the greater cost, here are some ideas of how to win that argument.</span></span>

## How it works

The maximum number we can represent is **2<sup>25</sup> - 1**, which is **33554431**.

<CodenamesCodePadShell decimalValue={33554431} children={[
Binary,
Decimal,
]} />

That would mean every single card was ours. If the number were `0`, then no
cards are ours. A `1` means the bottom right card is ours.

The top left card is the 24th card (we start counting from zero), so its number is
**2<sup>24</sup> = 16777216**

To select multiple cards, we add them together. The top left and bottom right would
be **2<sup>24</sup> + 2<sup>0</sup> = 16777217**.

<CodenamesCodePadShell decimalValue={16777217} children={[
Binary,
Decimal,
]} />

## How to communicate the number

You can communicate it anyway you imagine! You can try to use the number you say after your clue. It will be suspicious that you're saying a very high number.

I suggest starting a cross-talk conversation, seemingly unrelated, which involves very large numbers. "Hey, did you see the news? The Yankees threw the ball for the 4,392,158th time yesterday!"

Check out the [Codenames Rulebook (PDF)](https://www.officialgamerules.org/codename).

## Prior Work

I'm not the first person to have this thought, or even the first to build a gadget for it.

A bunch of people have applied programming concepts to Codenames before. Here are a few that I found:

- [Mahika Dubey's "Codenames Assistant"](https://www.mahikadubey.com/codenames-assistant) describes a strategy using the "Word Association Network" API. Neat!
- [Word Vector solution by James Somers](http://jsomers.net/glove-codenames/) in Python.
- [Patrick Xia uses Word Vectors too](https://github.com/pitrack/codenames) also in Python.

[Mark Cerqueira uses binary](https://mark.gg/2016/03/28/breaking-codenames-with-binary/) to communicate positional information. This is very similar to the process I present here since there's binary involved. Mark used the word in the clue to transmit a number, which is more clever than my method. Mark's method would need a slightly more complex gadget than this, in a fun way!

The solution closest to my own that I found was by [Pradyumna Shome](https://github.com/PradyumnaShome/CodeNames-Binary-Encoding). Pradyumna's method is exactly the same as my own. Pradyumna's solution happens to be a Python program you can run on your command line. My solution is this gadget. To represent the board in the program, Pradyumna used a Python data structure. My board is a bunch of HTML elements.

**The number you say after your clue can't be used as a clue.** _Citrus: 8_ is not a valid clue for `LEMON` and `OCTOPUS`.

**If the opposing spymaster allows it, the clue is valid.**

## The Whole Gadget

Here's the whole gadget in all its glory:

<CodenamesCodePadShell decimalValue={555171} children={[
Codepad,
Binary,
Decimal,
Reset,
ToggleWordsOrIndices,
MathTable
]} />

<div id="how-to-win">
## How To Win
</div>

Okay, this is silly. Really, don't do this. Go back now [if you came from the beginning](#consider-cost)
